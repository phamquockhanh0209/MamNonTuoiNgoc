<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#ff6b9d" />
    <meta name="description" content="H·ªá th·ªëng ƒëi·ªÉm danh h·ªçc sinh tr∆∞·ªùng m·∫ßm non Tu·ªïi Ng·ªçc" />
    <title>ƒêi·ªÉm Danh B√© Y√™u - Tr∆∞·ªùng Tu·ªïi Ng·ªçc</title>
    <link rel="stylesheet" href="style.css" />
    <link
        href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&family=Patrick+Hand&family=Comic+Neue:wght@700&display=swap"
        rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <style>
        /* Inline critical CSS for faster initial render */
        body {
            margin: 0;
            padding: 0;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Prevent text resizing on orientation change */
        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }
    </style>
</head>

<body>
    <!-- Background slider -->
    <div class="bg-slider">
        <div class="bg-slide active" style="background-image: url('img/1.png')"></div>
        <div class="bg-slide" style="background-image: url('img/2.png')"></div>
        <div class="bg-slide" style="background-image: url('img/3.png')"></div>
        <div class="bg-slide" style="background-image: url('img/4.png')"></div>
        <div class="bg-slide" style="background-image: url('img/5.png')"></div>
        <div class="bg-slide" style="background-image: url('img/6.png')"></div>
        <div class="bg-slide" style="background-image: url('img/7.png')"></div>
        <div class="bg-slide" style="background-image: url('img/8.png')"></div>
        <div class="bg-slide" style="background-image: url('img/9.png')"></div>
        <div class="bg-slide" style="background-image: url('img/10.png')"></div>
    </div>
    <div class="stars"></div>

    <!-- M√†n h√¨nh ƒëƒÉng nh·∫≠p - gi·ªëng h·ªát ·∫£nh b·∫°n g·ª≠i -->
    <div id="loginScreen" class="screen active">
        <div class="welcome-card">
            <!-- Ph·∫ßn tr√™n: Logo + t√™n tr∆∞·ªùng -->
            <div class="top-section">
                <div class="school-title">
                    <span class="star-left">‚ú¶</span>
                    TR∆Ø·ªúNG M·∫¶M NON
                    <span class="star-right">‚ú¶</span>
                </div>
                <h1 class="school-name">Tu·ªïi Ng·ªçc</h1>
                <p class="school-slogan">N∆°i y√™u th∆∞∆°ng b·∫Øt ƒë·∫ßu t·ª´ nh·ªØng n·ª• c∆∞·ªùi</p>
            </div>

            <div class="input-group">
                <input type="email" id="email" placeholder="Email c·ªßa c√¥ ho·∫∑c ba m·∫π" required autocomplete="email" />
                <input type="password" id="password" placeholder="M·∫≠t kh·∫©u" required autocomplete="current-password" />
            </div>

            <div class="role-buttons">
                <button class="btn-login btn-teacher" onclick="login('teacher')">
                    T√¥i l√† C√¥ gi√°o
                </button>
                <button class="btn-login btn-parent" onclick="login('parent')">
                    T√¥i l√† Ba m·∫π b√©
                </button>
            </div>

            <div id="loginError" class="error-text"></div>
        </div>
    </div>

    <!-- M√†n h√¨nh ch·ªçn l·ªõp - GI√ÅO VI√äN -->
    <div id="classSelectScreen" class="screen">
        <h2 class="screen-text">Ch·ªçn l·ªõp</h2>
        <header class="header">
            <button class="btn-logout" onclick="logout()" type="button">ƒêƒÉng xu·∫•t</button>
        </header>
        <div id="classList" class="class-select-container"></div>
    </div>

    <!-- M√†n h√¨nh ch·ªçn l·ªõp - PH·ª§ HUYNH -->
    <div id="parentClassSelectScreen" class="screen">
        <h2 class="screen-text">Ch·ªçn l·ªõp</h2>
        <header class="header">
            <button class="btn-logout" onclick="logout()" type="button">ƒêƒÉng xu·∫•t</button>
        </header>
        <div id="parentClassList" class="class-select-container"></div>
    </div>

    <!-- M√†n h√¨nh Gi√°o vi√™n -->
    <div id="teacherScreen" class="screen">
        <header class="header">
            <h2>Ch√†o c√¥! ƒêi·ªÉm danh l·ªõp <span id="currentClassName" style="color:#ff6b9d;">...</span></h2>
            <button class="btn-logout" onclick="logout()" type="button">ƒêƒÉng xu·∫•t</button>
            <button class="btn-logout" onclick="backToClassSelect()" style="background:#4fb1cd; margin-left:10px;"
                type="button">ƒê·ªïi l·ªõp</button>
        </header>
        <div class="header-controls">
            <div class="add-form">
                <p style="text-align:center; font-size:20px; color:#ff6b9d; font-weight:bold; margin-bottom:20px;">
                    ‚ú® Th√™m B√© Y√™u V√†o L·ªõp N√†o C√¥ ∆†i ‚ú®
                </p>
                <input id="newName" type="text" placeholder="Nh·∫≠p t√™n b√© y√™u ·ªü ƒë√¢y nha c√¥" autocomplete="off" />
                <label for="newImgFile" class="custom-file-upload">
                    Ch·ªçn ·∫£nh b√© t·ª´ ƒëi·ªán tho·∫°i/m√°y t√≠nh
                    <input type="file" id="newImgFile" accept="image/*" onchange="previewImage()" />
                </label>
                <div class="preview-container">
                    <img id="previewImg" alt="Preview ·∫£nh h·ªçc sinh" />
                </div>
                <div style="text-align:center; margin:20px 0;">
                    <button class="btn-add-sieu-dep" onclick="addStudent()" type="button">Th√™m B√© V√†o L·ªõp</button>
                </div>
                <div id="uploadStatus" style="text-align:center; margin-top:15px; font-weight:bold; min-height:24px;">
                </div>
            </div>
        </div>
        <div id="studentList" class="grid-container"></div>
    </div>

    <!-- M√†n h√¨nh Ph·ª• huynh -->
    <div id="parentScreen" class="screen">
        <header class="header">
            <h2>B√© y√™u l·ªõp <span id="parentClassName" style="color:#ff6b9d;">...</span> h√¥m nay th·∫ø n√†o n√® üíï</h2>
            <button class="btn-logout" onclick="logout()" type="button">ƒêƒÉng xu·∫•t</button>
            <button class="btn-logout" onclick="backToParentClassSelect()" style="background:#5cb8dc; margin-left:10px;"
                type="button">ƒê·ªïi l·ªõp</button>
        </header>
        <div id="parentList" class="grid-container"></div>
    </div>

    <script src="script.js"></script>
</body>

</html>
